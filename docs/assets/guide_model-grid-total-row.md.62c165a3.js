import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.486b000b.js";const A=JSON.parse('{"title":"模型表格统计行","description":"","frontmatter":{},"headers":[{"level":2,"title":"基本使用","slug":"基本使用","link":"#基本使用","children":[]},{"level":2,"title":"参数","slug":"参数","link":"#参数","children":[]}],"relativePath":"guide/model-grid-total-row.md"}'),o={name:"guide/model-grid-total-row.md"},p=l(`<h1 id="模型表格统计行" tabindex="-1">模型表格统计行 <a class="header-anchor" href="#模型表格统计行">¶</a></h1><blockquote><p>since v1.6.13</p></blockquote><h2 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用">¶</a></h2><p>如果某一列字段的值为数字，并且需要统计之后显示在表格的底部，可以用下面的方法。</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">grid</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">column</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">quantity</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">数量</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">totalRow</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">grid</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">column</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">amount</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">金额</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">totalRow</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre></div><p>在相应的字段后面调用<code>totalRow()</code>方法即可。</p><h2 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数">¶</a></h2><p>对这一列调用了<code>totalRow()</code>方法之后，默认会调用<code>Eloquent</code>的<code>sum</code>方法来累加这一列的值显示，同时<code>totalRow()</code>方法可以接受一个可选参数，如果传入的参数是字符串或者数字，那么会在底部统计行直接显示，比如在<code>id</code>列下面直接显示<code>合计</code>这两个字：</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">grid</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">column</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ID</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">sortable</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">totalRow</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">合计</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>如果你想改变统计行的显示样式，可以通过传入一个匿名函数来修改它：</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">grid</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">column</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">amount</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">金额</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">totalRow</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">amount</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&lt;span class=&#39;text-danger text-bold&#39;&gt;&lt;i class=&#39;fa fa-yen&#39;&gt;&lt;/i&gt; </span><span style="color:#89DDFF;">{$</span><span style="color:#A6ACCD;">amount</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> 元&lt;/span&gt;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">});</span></span>
<span class="line"></span></code></pre></div>`,11),e=[p];function t(c,r,D,F,y,i){return a(),n("div",null,e)}const C=s(o,[["render",t]]);export{A as __pageData,C as default};
