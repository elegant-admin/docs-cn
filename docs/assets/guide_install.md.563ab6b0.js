import{_ as s,o as a,c as l,O as n}from"./chunks/framework.a9b346c9.js";const A=JSON.parse('{"title":"安装","description":"","frontmatter":{},"headers":[],"relativePath":"guide/install.md","filePath":"guide/install.md"}'),p={name:"guide/install.md"},o=n('<h1 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装">¶</a></h1><p>首先确保安装好了<code>laravel</code>，并且数据库连接设置正确。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">composer</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">require</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">encore/laravel-admin:1.</span><span style="color:#A6ACCD;">*</span></span></code></pre></div><p>然后运行下面的命令来发布资源：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">php</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">artisan</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vendor:publish</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--provider=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Encore\\Admin\\AdminServiceProvider</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>在该命令会生成配置文件<code>config/admin.php</code>，可以在里面修改安装的地址、数据库连接、以及表名，建议都是用默认配置不修改。</p><p>然后运行下面的命令完成安装：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">php</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">artisan</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">admin:install</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">注意</p><p>运行这个命令的时候，如果遇到了下面的错误:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">SQLSTATE[42000]:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Syntax</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">error</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">or</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">access</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">violation:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1071</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Specified</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">was</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">too</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">long</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span></span>\n<span class="line"><span style="color:#FFCB6B;">max</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">length</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bytes</span><span style="color:#A6ACCD;"> (SQL: </span><span style="color:#C3E88D;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">table</span><span style="color:#89DDFF;">`</span><span style="color:#FFCB6B;">users</span><span style="color:#89DDFF;">`</span><span style="color:#FFCB6B;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unique</span><span style="color:#89DDFF;">`</span><span style="color:#FFCB6B;">users_email_unique</span><span style="color:#89DDFF;">`</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">`</span><span style="color:#FFCB6B;">email</span><span style="color:#89DDFF;">`</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>参考这个issue来解决 <a href="https://github.com/z-song/laravel-admin/issues/1541" target="_blank" rel="noreferrer">https://github.com/z-song/laravel-admin/issues/1541</a></p></div><p>启动服务后，在浏览器打开 <code>http://localhost/admin/</code> ,使用用户名 <code>admin</code> 和密码 <code>admin</code>登录.</p><h2 id="生成的文件" tabindex="-1">生成的文件 <a class="header-anchor" href="#生成的文件">¶</a></h2><p>安装完成之后,会在项目目录中生成以下的文件:</p><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件">¶</a></h2><p>安装完成之后，<code>laravel-admin</code>所有的配置都在<code>config/admin.php</code>文件中。</p><h2 id="后台项目文件" tabindex="-1">后台项目文件 <a class="header-anchor" href="#后台项目文件">¶</a></h2><p>安装完成之后，后台的安装目录为<code>app/Admin</code>，之后大部分的后台开发编码工作都是在这个目录下进行。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">app/Admin</span></span>\n<span class="line"><span style="color:#FFCB6B;">├──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Controllers</span></span>\n<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">├──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ExampleController.php</span></span>\n<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">HomeController.php</span></span>\n<span class="line"><span style="color:#FFCB6B;">├──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bootstrap.php</span></span>\n<span class="line"><span style="color:#FFCB6B;">└──</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">routes.php</span></span></code></pre></div><p><code>app/Admin/routes.php</code>文件用来配置后台路由。</p><p><code>app/Admin/bootstrap.php</code> 是<code>laravel-admin</code>的启动文件, 使用方法请参考文件里面的注释.</p><p><code>app/Admin/Controllers</code>目录用来存放后台控制器文件，该目录下的<code>HomeController.php</code>文件是后台首页的显示控制器，<code>ExampleController.php</code>为实例文件。</p><h2 id="静态文件" tabindex="-1">静态文件 <a class="header-anchor" href="#静态文件">¶</a></h2><p>后台所需的前端静态文件在<code>/public/vendor/laravel-admin</code>目录下.</p>',22),e=[o];function t(c,r,C,i,d,y){return a(),l("div",null,e)}const h=s(p,[["render",t]]);export{A as __pageData,h as default};
